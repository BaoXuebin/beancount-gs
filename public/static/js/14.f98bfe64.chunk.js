(this["webpackJsonpbeancount-web"]=this["webpackJsonpbeancount-web"]||[]).push([[14],{188:function(t,e,s){"use strict";var a=s(0),n=s(5);e.a=t=>class extends a.Component{constructor(){super(...arguments),this.defaultCommodity={currency:"CNY",symbol:"\uffe5"},this.currentCommodity=window.localStorage.getItem("ledgerCurrency")}render(){return Object(n.jsx)(t,{...this.props,commodity:this.currentCommodity?JSON.parse(this.currentCommodity):this.defaultCommodity})}}},204:function(t,e,s){"use strict";var a=s(91);e.a=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";e=Number(e).toFixed(2);const i=Object(a.h)(t);return"Income"===i?e>0?`-${s}${Math.abs(e)} ${s?"":n}`:`+${s}${Math.abs(e)} ${s?"":n}`:"Assets"===i?e>0?`+${s}${Math.abs(e)} ${s?"":n}`:`-${s}${Math.abs(e)} ${s?"":n}`:"Expenses"===i||"Liabilities"===i?e>0?`-${s}${Math.abs(e)} ${s?"":n}`:`+${s}${Math.abs(e)} ${s?"":n}`:String(e)}},216:function(t,e,s){"use strict";var a=s(225),n=s(72),i=s.n(n),c=s(0),o=s(91),l=s(5);class h extends c.Component{constructor(){super(...arguments),this.currentYear=i()().format("YYYY"),this.currentMonth=i()().format("YYYY-M"),this.state={loading:!1,years:[this.currentYear],months:[this.currentMonth]},this.queryMonthList=()=>{this.setState({loading:!0}),Object(o.d)("/api/auth/stats/months").then((t=>{let e=Array.from(new Set(t.map((t=>t.split("-")[0]))));this.setState({months:t,years:e})})).catch(console.error).finally((()=>{this.setState({loading:!1})}))}}componentDidMount(){this.queryMonthList()}render(){return Object(l.jsxs)(a.a,{size:"small",showSearch:!0,placeholder:"\u9009\u62e9\u6708\u4efd",style:{width:"120px"},...this.props,children:[!this.props.onlyShowMonth&&Object(l.jsx)(a.a.Option,{value:"",children:"\u4e0d\u9650"}),!this.props.onlyShowMonth&&this.state.years.reverse().map((t=>Object(l.jsx)(a.a.Option,{value:t,children:i()(t).format("YYYY\u5e74")},t))),this.state.months.reverse().map((t=>Object(l.jsx)(a.a.Option,{value:t,children:i()(t).format("YYYY\u5e74MM\u6708")},t)))]})}}e.a=h},244:function(t,e,s){"use strict";var a=s(445),n=(s(0),s(5));e.a=t=>t.hide?Object(n.jsx)(a.a,{...t,value:"***",prefix:t.hide?"":t.prefix}):Object(n.jsx)(a.a,{...t})},338:function(t,e,s){},464:function(t,e,s){"use strict";s.r(e);var a=s(329),n=s(255),i=s(61),c=s(333),o=s(334),l=s(441),h=s(0),r=s(217),d=s(467),u=s(210),p=s(91),j=s(5);const b=[{value:"Assets",label:p.a.Assets}];class m extends h.Component{constructor(){super(...arguments),this.state={loading:!1,balanceData:[],accountPrefix:Object(p.c)(this.props.selectedAccounts,b)[0].value},this.queryAccountBalance=t=>{let e,s;this.setState({loading:!0});const{accountPrefix:a}=this.state;if(t){const a=t.split("-").filter((t=>t));1===a.length?e=a[0]:2===a.length&&(e=a[0],s=a[1])}Object(p.d)(`/api/auth/stats/account/balance?prefix=${a}&year=${e||""}&month=${s||""}`).then((t=>{t&&t.length>0&&t.forEach((t=>{t.date=Object(p.f)(t.date)})),this.setState({balanceData:t})})).finally((()=>{this.setState({loading:!1})}))},this.handleChangeAccount=t=>{this.setState({accountPrefix:t},(()=>{this.queryAccountBalance(this.props.selectedMonth)}))}}componentDidMount(){this.queryAccountBalance(this.props.selectedMonth)}componentWillReceiveProps(t){t.selectedMonth!==this.props.selectedMonth&&this.queryAccountBalance(t.selectedMonth),t.selectedAccounts!==this.props.selectedAccounts&&this.setState({accountPrefix:Object(p.c)(t.selectedAccounts,b)[0].value})}render(){return this.props.chartLoading?Object(j.jsx)("div",{style:{height:480,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(r.a,{})}):Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{marginBottom:"1rem"},children:Object(j.jsx)(d.a,{options:Object(p.c)(this.props.selectedAccounts,b),value:this.state.accountPrefix,onChange:this.handleChangeAccount})}),Object(j.jsx)(r.a,{spinning:this.state.loading,children:Object(j.jsxs)(u.Chart,{appendPadding:[10,0,0,10],autoFit:!0,height:500,data:this.state.balanceData,scale:{amount:{alias:"\u5408\u8ba1",type:"linear-strict"},year:{range:[0,1]}},children:[Object(j.jsx)(u.Line,{position:"date*amount",tooltip:["date*amount",(t,e)=>({title:t,name:"\u5408\u8ba1",value:Object(p.e)(e,this.props.commodity)})]}),Object(j.jsx)(u.Point,{position:"date*amount",tooltip:["date*amount",(t,e)=>({title:t,name:"\u5408\u8ba1",value:Object(p.e)(e,this.props.commodity)})]})]})})]})}}var y=m;const g=[{value:"Expenses",label:p.a.Expenses}];class x extends h.Component{constructor(){super(...arguments),this.state={loading:!1,dayAmountData:[],type:"day",accountPrefix:Object(p.c)(this.props.selectedAccounts,g)[0].value},this.queryAccountDayTrend=t=>{let e,s;this.setState({loading:!0});const{accountPrefix:a,type:n}=this.state;if(t){const a=t.split("-").filter((t=>t));1===a.length?e=a[0]:2===a.length&&(e=a[0],s=a[1])}Object(p.d)(`/api/auth/stats/account/trend?prefix=${a}&year=${e||""}&month=${s||""}&type=${n}`).then((t=>{t&&t.length>0&&t.forEach((t=>{t.date=Object(p.f)(t.date)})),this.setState({dayAmountData:t})})).finally((()=>{this.setState({loading:!1})}))},this.handleChangeAccount=t=>{this.setState({accountPrefix:t},(()=>{this.queryAccountDayTrend(this.props.selectedMonth)}))},this.handleChangeStatsType=t=>{this.setState({type:t},(()=>{this.queryAccountDayTrend(this.props.selectedMonth)}))}}componentDidMount(){this.queryAccountDayTrend(this.props.selectedMonth)}componentWillReceiveProps(t){t.selectedMonth!==this.props.selectedMonth&&this.queryAccountDayTrend(t.selectedMonth)}render(){return this.props.chartLoading?Object(j.jsx)("div",{style:{height:480,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(r.a,{})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[Object(j.jsx)(d.a,{options:Object(p.c)(this.props.selectedAccounts,g),value:this.state.accountPrefix,onChange:this.handleChangeAccount}),Object(j.jsx)(d.a,{options:[{value:"day",label:"\u6309\u5929"},{value:"month",label:"\u6309\u6708"},{value:"year",label:"\u6309\u5e74"},{value:"sum",label:"\u7d2f\u8ba1"}],value:this.state.type,onChange:this.handleChangeStatsType})]}),Object(j.jsx)(r.a,{spinning:this.state.loading,children:Object(j.jsx)(u.Chart,{height:480,autoFit:!0,data:this.state.dayAmountData,interactions:["active-region"],padding:[30,30,30,50],children:Object(j.jsx)(u.Interval,{position:"date*amount",tooltip:["date*amount",(t,e)=>({name:"\u5408\u8ba1",value:Object(p.e)(e,this.props.commodity)})]})})})]})}}var O=x;class v extends h.Component{constructor(){super(...arguments),this.state={loading:!1,incomeExpenses:[]},this.queryMonthIncomeExpenses=()=>{this.setState({loading:!0}),Object(p.d)("/api/auth/stats/month/total").then((t=>{t&&t.length>0&&t.forEach((t=>{t.month=Object(p.f)(t.month)})),this.setState({incomeExpenses:t})})).finally((()=>{this.setState({loading:!1})}))}}componentDidMount(){this.queryMonthIncomeExpenses()}render(){return this.props.chartLoading?Object(j.jsx)("div",{style:{height:400,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(r.a,{})}):Object(j.jsx)("div",{children:Object(j.jsx)(r.a,{spinning:this.state.loading,children:Object(j.jsx)(u.Chart,{animate:!1,padding:[10,20,80,40],autoFit:!0,height:400,data:this.state.incomeExpenses,children:Object(j.jsx)(u.LineAdvance,{shape:"smooth",point:!0,area:!0,position:"month*amount",color:"type",tooltip:["month*type*amount",(t,e,s)=>({title:t,name:e,value:Object(p.e)(s,this.props.commodity)})]})})})})}}var f=v;const S=[{value:"Expenses",label:p.a.Expenses}];class A extends h.Component{constructor(){super(...arguments),this.state={loading:!1,payee:[],type:"sum",accountPrefix:"Expenses"},this.queryPayeeStatsValue=t=>{let e,s;this.setState({loading:!0});const{accountPrefix:a,type:n}=this.state;if(t){const a=t.split("-").filter((t=>t));1===a.length?e=a[0]:2===a.length&&(e=a[0],s=a[1])}Object(p.d)(`/api/auth/stats/payee?prefix=${a}&year=${e||""}&month=${s||""}&type=${n}`).then((t=>{const e=t.slice(-25);this.setState({payee:e})})).finally((()=>{this.setState({loading:!1})}))},this.handleChangeAccount=t=>{this.setState({accountPrefix:t},(()=>{this.queryPayeeStatsValue(this.props.selectedMonth)}))},this.handleChangeStatsType=t=>{this.setState({type:t},(()=>{this.queryPayeeStatsValue(this.props.selectedMonth)}))}}componentDidMount(){this.queryPayeeStatsValue(this.props.selectedMonth)}componentWillReceiveProps(t){t.selectedMonth!==this.props.selectedMonth&&this.queryPayeeStatsValue(t.selectedMonth)}render(){return this.props.chartLoading?Object(j.jsx)("div",{style:{height:560,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(r.a,{})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[Object(j.jsx)(d.a,{options:Object(p.c)(this.props.selectedAccounts,S),value:this.state.accountPrefix,onChange:this.handleChangeAccount}),Object(j.jsx)(d.a,{options:[{value:"sum",label:"\u7d2f\u8ba1"},{value:"cot",label:"\u9891\u6b21"},{value:"avg",label:"\u5355\u7b14"}],value:this.state.type,onChange:this.handleChangeStatsType})]}),Object(j.jsx)(r.a,{spinning:this.state.loading,children:Object(j.jsxs)(u.Chart,{appendPadding:[0,70,0,0],height:Math.max(30*this.state.payee.length,120),data:this.state.payee,autoFit:!0,scale:{value:{formatter:t=>`${t}${"cot"===this.state.type?"\u6b21":"\u5143"}`}},children:[Object(j.jsx)(u.Coordinate,{transpose:!0}),Object(j.jsx)(u.Interval,{position:"payee*value",label:["value",t=>({position:"right",offsetX:-8,content:"cot"!==this.state.type?Object(p.e)(t,this.props.commodity):`${t}\u6b21`,style:{fill:"#3c3c3c"}})],tooltip:["payee*value",(t,e)=>({title:t,name:"\u5408\u8ba1",value:"cot"!==this.state.type?Object(p.e)(e,this.props.commodity):`${e}\u6b21`})]}),Object(j.jsx)(u.Interaction,{type:"active-region"})]})})]})}}var M=A,C=s(205),$=s.n(C);const P=[{value:"Expenses",label:p.a.Expenses}];class k extends h.Component{constructor(){super(...arguments),this.state={loading:!1,subAccountPercentData:[],level:"1",accountPrefix:Object(p.c)(this.props.selectedAccounts,P)[0].value},this.queryStatsSubAccountPercent=t=>{let e,s;this.setState({loading:!0});const{accountPrefix:a,level:n}=this.state;if(t){const a=t.split("-").filter((t=>t));1===a.length?e=a[0]:2===a.length&&(e=a[0],s=a[1])}Object(p.d)(`/api/auth/stats/account/percent?prefix=${a}&year=${e||""}&month=${s||""}&level=${n}`).then((t=>{let e=$()(0);t.forEach((t=>{e=e.plus(t.amount)})),e=e.toFixed(2),this.setState({subAccountPercentData:t.map((t=>{const s=$()(t.amount).toFixed(2);return{item:t.account,count:Number(s),percent:Number($()(s/e).toFixed(5))}}))})})).finally((()=>{this.setState({loading:!1})}))},this.handleChangeAccount=t=>{this.setState({accountPrefix:t},(()=>{this.queryStatsSubAccountPercent(this.props.selectedMonth)}))},this.handleChangeAccountLevel=t=>{this.setState({level:t},(()=>{this.queryStatsSubAccountPercent(this.props.selectedMonth)}))}}componentDidMount(){this.queryStatsSubAccountPercent(this.props.selectedMonth)}componentWillReceiveProps(t){t.selectedMonth!==this.props.selectedMonth&&this.queryStatsSubAccountPercent(t.selectedMonth)}render(){return this.props.chartLoading?Object(j.jsx)("div",{style:{height:500,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(r.a,{})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[Object(j.jsx)(d.a,{options:Object(p.c)(this.props.selectedAccounts,P),value:this.state.accountPrefix,onChange:this.handleChangeAccount}),Object(j.jsx)(d.a,{options:[{value:"1",label:"\u8d26\u6237\u7c7b\u578b"},{value:"",label:"\u6240\u6709\u8d26\u6237"}],value:this.state.level,onChange:this.handleChangeAccountLevel})]}),Object(j.jsx)(r.a,{spinning:this.state.loading,children:Object(j.jsxs)(u.Chart,{height:560,data:this.state.subAccountPercentData,scale:{percent:{formatter:t=>t=100*t+"%"}},autoFit:!0,onGetG2Instance:t=>{t.geometries[0].elements.forEach(((t,e)=>{t.setState("selected",0===e)}))},children:[Object(j.jsx)(u.Coordinate,{type:"theta",radius:.75}),Object(j.jsx)(u.Axis,{visible:!1}),Object(j.jsx)(u.Interval,{position:"percent",adjust:"stack",color:"item",style:{lineWidth:1,stroke:"#fff"},label:["count",{content:t=>`${Object(p.j)(t.item)}: ${Object(p.g)(t.percent)}`}],tooltip:["item*percent*count",(t,e,s)=>({title:t,name:"\u5408\u8ba1",value:`${Object(p.e)(s,this.props.commodity)} (${Object(p.g)(e)})`})]}),Object(j.jsx)(u.Interaction,{type:"element-single-selected"})]})})]})}}var L=k,w=s(337),q=s.n(w);const E=[{value:"Assets",label:p.a.Assets}],I={x:{sync:!0},y:{sync:!0}},T=Object(u.getTheme)().colors20;class D extends h.Component{constructor(){super(...arguments),this._ds=new q.a,this._nodeValues={},this.state={sankeyData:{nodes:[],links:[]},dataView:{nodes:[],links:[]},loading:!1,accountPrefix:Object(p.b)(Object(p.c)(this.props.selectedAccounts,E))[0].value,level:""},this.querySankeyData=t=>{this.setState({loading:!0});const{accountPrefix:e,level:s}=this.state;let a,n;if(t){const e=t.split("-").filter((t=>t));1===e.length?a=e[0]:2===e.length&&(a=e[0],n=e[1])}Object(p.d)(`/api/auth/stats/account/flow?prefix=${e}&year=${a||""}&month=${n||""}&level=${s}`).then((t=>{if(t&&t.links&&t.links.length>0){const e=t.nodes;for(let a of t.links)this._nodeValues[e[a.source].name]=Number(this._nodeValues[e[a.source].name]||0)+-1*Number(a.value),this._nodeValues[e[a.target].name]=Number(this._nodeValues[e[a.target].name]||0)+Number(a.value);const s=this._ds.createView().source(t,{type:"graph",edges:t=>t.links});s.transform({type:"diagram.sankey",sort:(t,e)=>t.value>e.value?0:t.value<e.value?-1:0}),this.setState({sankeyData:t,dataView:s})}})).catch((function(t){console.log("Request failed",t)})).finally((()=>{this.setState({loading:!1})}))},this.handleChangeAccount=t=>{this.setState({accountPrefix:t,dataView:{nodes:[],links:[]}},(()=>{this.querySankeyData(this.props.selectedMonth)}))},this.handleChangeAccountLevel=t=>{this.setState({level:t,dataView:{nodes:[],links:[]}},(()=>{this.querySankeyData(this.props.selectedMonth)}))}}componentDidMount(){this.querySankeyData(this.props.selectedMonth)}componentWillReceiveProps(t){t.selectedMonth!==this.props.selectedMonth&&this.querySankeyData(t.selectedMonth),t.selectedAccounts!==this.props.selectedAccounts&&this.setState({accountPrefix:Object(p.b)(Object(p.c)(t.selectedAccounts,E))[0].value})}render(){const{chartLoading:t}=this.props,{dataView:e,loading:s}=this.state;if(t)return Object(j.jsx)("div",{style:{height:500,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(r.a,{})});const a=e&&e.edges?e.edges.map((t=>({source:t.source.name,target:t.target.name,x:t.x,y:t.y,value:t.value}))):[],n=e&&e.nodes?e.nodes.reduce(((t,e,s)=>(t[e.name]=T[s],t)),{}):{};return Object(j.jsxs)(h.Fragment,{children:[Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[Object(j.jsx)(d.a,{options:Object(p.b)(Object(p.c)(this.props.selectedAccounts,E)),value:this.state.accountPrefix,onChange:this.handleChangeAccount}),Object(j.jsx)(d.a,{options:[{value:"1",label:"\u8d26\u6237\u7c7b\u578b"},{value:"",label:"\u6240\u6709\u8d26\u6237"}],value:this.state.level,onChange:this.handleChangeAccountLevel})]}),Object(j.jsx)(r.a,{spinning:s,children:0===e.nodes.length||0===a.length?Object(j.jsx)("div",{style:{height:"500px"}}):Object(j.jsxs)(u.Chart,{interactions:["element-highlight"],height:Math.min(30*e.nodes.length+200,1200),autoFit:!0,scale:I,padding:[20,20,40],children:[Object(j.jsx)(u.Axis,{name:"x",visible:!1}),Object(j.jsx)(u.Axis,{name:"y",visible:!1}),Object(j.jsx)(u.Legend,{name:"source",visible:!1}),Object(j.jsx)(u.View,{padding:0,data:a,children:Object(j.jsx)(u.Geom,{type:"edge",position:"x*y",shape:"arc",color:["source",t=>n[t]],state:{default:{},active:{style:{lineWidth:1.5,strokeOpacity:2}}},style:{fillOpacity:.3,lineWidth:0},tooltip:["target*source*value",(t,e,s)=>({title:e+" > "+t,name:"\u5408\u8ba1",value:Object(p.e)(s,this.props.commodity)})]})}),Object(j.jsx)(u.View,{padding:0,data:e.nodes,children:Object(j.jsx)(u.Geom,{type:"polygon",position:"x*y",color:"name",style:{stroke:"#fff"},state:{default:{},active:{style:{stroke:"red",lineWidth:1.5,strokeOpacity:.9}}},label:["name",t=>({content:Object(p.j)(t),offsetY:10,style:{fill:"#666"}})],tooltip:["name*value",t=>({title:t,name:"\u5408\u8ba1",value:Object(p.e)(this._nodeValues[t],this.props.commodity)})]})})]})})]})}}var Y=D,V=s(244),N=s(73),F=s(188),W=(s(338),s(216)),B=s(72),_=s.n(B),J=s(204),R=s(461);let z={};var G=t=>{let{value:e,onChange:s}=t;const[a,n]=Object(h.useState)([]),[i,c]=Object(h.useState)([]);Object(h.useEffect)((()=>{c(Object(p.c)(e,[]).map((t=>t.value)))}),[e]),Object(h.useEffect)((()=>{Object(p.d)("/api/auth/account/all").then((t=>{const e=[];for(let a of t){const t=a.account,e={key:Object(p.h)(t)},s=a.type?a.type:{type:a.account,name:Object(p.j)(a.account)};if(z[e.key]){let t=z[e.key][s.key];t?t.children.push(a):(t={key:s.key,name:s.name,children:[a]},z[e.key].children.push(a.type),z[e.key][s.key]=t)}else{const t={};t.children=[s],t[s.key]={key:s.key,name:s.name,children:[a]},z[e.key]=t}}const s=["Expenses","Income","Assets","Liabilities","Equity"];for(let a of s)e.push({value:a,label:p.a[a],children:((z[a]||{}).children||[]).filter((t=>t)).map((t=>{const e=z[a][t.key];return{value:e.key,label:e.name,children:(e.children||[]).map((t=>({label:Object(p.j)(t.account),value:t.account})))}}))});n(e)})).catch(console.error).finally((()=>{}))}),[]);return Object(j.jsx)(R.a,{value:i,style:{width:"240px"},size:"small",options:a,onChange:t=>{let[e,a,n]=t;const i=[{value:e,label:p.a[e]},{value:a,label:z[e]&&z[e][a]?z[e][a].name:a},{value:n,label:Object(p.j)(n)}];localStorage.setItem("accounts",JSON.stringify(i)),s(i)},showSearch:{filter:(t,e)=>e.some((e=>e.label.toLowerCase().indexOf(t.toLowerCase())>-1))},placeholder:"\u8bf7\u9009\u62e9"})};class H extends h.Component{constructor(){super(...arguments),this.theme=this.context.theme,this.timeoutEvent=null,this.state={statsTab:localStorage.getItem("statsTabIndx")||"1",loading:!1,chartLoading:!1,Assets:0,Income:0,Expenses:0,Liabilities:0,hideMoney:JSON.parse(window.localStorage.getItem("hideMoney")||"false"),selectedMonth:_()().date()>=10?Object(p.k)():Object(p.m)(),selectedAccounts:Object(p.c)(JSON.parse(window.localStorage.getItem("accounts")||"[]"),[])},this.queryStatsTotalAmount=()=>{this.setState({loading:!0});let t="",e="";const{selectedMonth:s}=this.state;if(s){const a=s.split("-").filter((t=>t));1===a.length?t=a[0]:2===a.length&&(t=a[0],e=a[1])}Object(p.d)(`/api/auth/stats/total?year=${t}&month=${e}`).then((t=>{const{Income:e,Expenses:s,Liabilities:a,Assets:n}=t;this.setState({Assets:n,Income:e,Expenses:s,Liabilities:a})})).catch(console.error).finally((()=>{this.setState({loading:!1})}))},this.handleChangeMonth=t=>{this.setState({selectedMonth:t},(()=>{this.queryStatsTotalAmount()}))},this.handleChangeAccount=t=>{this.setState({selectedAccounts:t})},this.handleChangeTab=t=>{this.timeoutEvent&&clearTimeout(this.timeoutEvent),this.setState({chartLoading:!0,statsTab:t},(()=>{localStorage.setItem("statsTabIndx",t)})),this.timeoutEvent=setTimeout((()=>{this.setState({chartLoading:!1})}),300)},this.handleHideMoney=()=>{const t=!this.state.hideMoney;this.setState({hideMoney:t}),window.localStorage.setItem("hideMoney",t)}}componentDidMount(){this.queryStatsTotalAmount()}componentWillUnmount(){this.timeoutEvent&&clearTimeout(this.timeoutEvent)}render(){this.context.theme!==this.theme&&(this.theme=this.context.theme);const{loading:t,hideMoney:e,statsTab:s}=this.state,h=Object(J.a)("Liabilities:",this.state.Liabilities||0),r=Number(h.substring(1,100)),d=h.substring(0,1);return Object(j.jsxs)("div",{className:"stats-page",children:[Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(W.a,{value:this.state.selectedMonth,onChange:this.handleChangeMonth}),"\xa0\xa0",e?Object(j.jsx)(i.a,{size:"small",icon:Object(j.jsx)(a.a,{}),onClick:this.handleHideMoney}):Object(j.jsx)(i.a,{size:"small",icon:Object(j.jsx)(n.a,{}),onClick:this.handleHideMoney})]}),Object(j.jsx)("div",{children:Object(j.jsx)(G,{value:this.state.selectedAccounts,onChange:this.handleChangeAccount})})]}),Object(j.jsx)("div",{style:{height:"1rem"}}),Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{gutter:16,children:Object(j.jsx)(o.a,{span:12,offset:6,children:Object(j.jsx)(V.a,{hide:e,style:{cursor:"pointer"},title:`${p.a.Assets}\u603b\u989d`,value:this.state.Assets||0,loading:t})})}),Object(j.jsx)("div",{style:{height:"1rem"}}),Object(j.jsxs)(c.a,{gutter:16,children:[Object(j.jsx)(o.a,{span:8,children:Object(j.jsx)(V.a,{hide:e,title:`\u7d2f\u8ba1${p.a.Income}`,value:-this.state.Income||0,loading:t,prefix:"+",valueStyle:{color:"#cf1322"}})}),Object(j.jsx)(o.a,{span:8,children:Object(j.jsx)(V.a,{hide:e,title:`\u7d2f\u8ba1${p.a.Expenses}`,value:this.state.Expenses||0,loading:t,prefix:"-",valueStyle:{color:"#3f8600"}})}),Object(j.jsx)(o.a,{span:8,children:Object(j.jsx)(V.a,{hide:e,title:`\u7d2f\u8ba1${p.a.Liabilities}`,value:r,loading:t,prefix:d,valueStyle:{color:"#3f8600"}})})]})]}),Object(j.jsxs)(l.a,{defaultActiveKey:"1",destroyInactiveTabPane:!0,activeKey:s,centered:!0,style:{marginTop:"2rem"},onChange:this.handleChangeTab,children:[Object(j.jsx)(l.a.TabPane,{tab:"\u6708\u5ea6\u6536\u652f\u7edf\u8ba1\u56fe",children:Object(j.jsx)(f,{chartLoading:this.state.chartLoading,selectedMonth:this.state.selectedMonth,commodity:this.props.commodity})},"1"),Object(j.jsx)(l.a.TabPane,{tab:"\u8d44\u4ea7\u8d1f\u503a\u7edf\u8ba1",children:Object(j.jsx)(y,{chartLoading:this.state.chartLoading,selectedAccounts:this.state.selectedAccounts,selectedMonth:this.state.selectedMonth,commodity:this.props.commodity})},"2"),Object(j.jsx)(l.a.TabPane,{tab:"\u635f\u76ca\u8d26\u6237\u7edf\u8ba1",children:Object(j.jsx)(O,{chartLoading:this.state.chartLoading,selectedAccounts:this.state.selectedAccounts,selectedMonth:this.state.selectedMonth,commodity:this.props.commodity})},"3"),Object(j.jsx)(l.a.TabPane,{tab:"\u8d26\u6237\u5206\u5e03\u5360\u6bd4",children:Object(j.jsx)(L,{chartLoading:this.state.chartLoading,selectedAccounts:this.state.selectedAccounts,selectedMonth:this.state.selectedMonth,commodity:this.props.commodity})},"4"),Object(j.jsx)(l.a.TabPane,{tab:"\u8d44\u4ea7\u6d41\u5411\u7edf\u8ba1",children:Object(j.jsx)(Y,{chartLoading:this.state.chartLoading,selectedAccounts:this.state.selectedAccounts,selectedMonth:this.state.selectedMonth,commodity:this.props.commodity})},"6"),Object(j.jsx)(l.a.TabPane,{tab:"\u5546\u6237\u6d88\u8d39\u6392\u884c",children:Object(j.jsx)(M,{chartLoading:this.state.chartLoading,selectedAccounts:this.state.selectedAccounts,selectedMonth:this.state.selectedMonth,commodity:this.props.commodity})},"5")]})]})}}H.contextType=N.a;e.default=Object(F.a)(H)}}]);
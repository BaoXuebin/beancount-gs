"use strict";(self.webpackChunkbeancount_web=self.webpackChunkbeancount_web||[]).push([[332],{9332:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(8380),i=n(5231),a=n(4412),l=n(9663),o=n(1896),s=n(9284),c=n(4760),d=n(2475),p=n(2069),u=n(712);class m extends s.Component{constructor(){super(...arguments),this.ledgerTitle=localStorage.getItem("ledgerTitle")||"\u8d26\u672c",this.state={loading:!1},this.handleOpenDeleteModal=()=>{i.A.confirm({title:`\u786e\u8ba4\u5220\u9664${this.ledgerTitle}\uff1f`,icon:(0,u.jsx)(r.A,{}),content:"\u5220\u9664\u540e\u5c06\u4e0d\u80fd\u6062\u590d",okText:"\u5220\u9664",onOk:this.handleDelete,okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"})},this.handleDelete=()=>{this.setState({loading:!0}),(0,c.hd)("/api/auth/ledger",{method:"DELETE"}).then((()=>{localStorage.clear(),a.Ay.success(`${this.ledgerTitle}\u5df2\u5220\u9664`),this.props.history.replace("/ledger")})).finally((()=>{this.setState({loading:!1})}))}}render(){return this.context.theme!==this.theme&&(this.theme=this.context.theme),(0,u.jsx)("div",{className:"setting-page",children:(0,u.jsx)(l.A,{direction:"vertical",size:"middle",style:{display:"flex"},children:(0,u.jsx)(o.A,{block:!0,danger:!0,loading:this.state.loading,onClick:this.handleOpenDeleteModal,children:"\u5220\u9664\u8d26\u672c"})})})}}m.contextType=d.A;const h=(0,p.A)(m)},2069:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(9284),i=n(712);const a=e=>class extends r.Component{constructor(){super(...arguments),this.defaultCommodity={currency:"CNY",symbol:"\uffe5"},this.currentCommodity=window.localStorage.getItem("ledgerCurrency")}render(){return(0,i.jsx)(e,{...this.props,commodity:this.currentCommodity?JSON.parse(this.currentCommodity):this.defaultCommodity})}}},9309:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(5544),i=n(9284),a=n(209);const l=function(){var e=i.useState(!1),t=(0,r.A)(e,2),n=t[0],l=t[1];return i.useEffect((function(){l((0,a.Pu)())}),[]),n}},9663:(e,t,n)=>{n.d(t,{e:()=>g,A:()=>v});var r=n(8168),i=n(4467),a=n(5544),l=n(4480),o=n.n(l),s=n(4650),c=n(9284),d=n(3135),p=n(9309);function u(e){var t=e.className,n=e.direction,a=e.index,l=e.marginDirection,o=e.children,s=e.split,d=e.wrap,p=c.useContext(g),u=p.horizontalSize,m=p.verticalSize,h=p.latestIndex,y={};return p.supportFlexGap||("vertical"===n?a<h&&(y={marginBottom:u/(s?2:1)}):y=(0,r.A)((0,r.A)({},a<h&&(0,i.A)({},l,u/(s?2:1))),d&&{paddingBottom:m})),null===o||void 0===o?null:c.createElement(c.Fragment,null,c.createElement("div",{className:t,style:y},o),a<h&&s&&c.createElement("span",{className:"".concat(t,"-split"),style:y},s))}var m=n(4575),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},g=c.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),y={small:8,middle:16,large:24};var f=function(e){var t=c.useContext(d.QO),n=t.getPrefixCls,l=t.space,m=t.direction,f=e.size,v=void 0===f?(null===l||void 0===l?void 0:l.size)||"small":f,x=e.align,A=e.className,C=e.children,b=e.direction,w=void 0===b?"horizontal":b,z=e.prefixCls,S=e.split,O=e.style,k=e.wrap,E=void 0!==k&&k,N=h(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),j=(0,p.A)(),T=c.useMemo((function(){return(Array.isArray(v)?v:[v,v]).map((function(e){return function(e){return"string"===typeof e?y[e]:e||0}(e)}))}),[v]),D=(0,a.A)(T,2),P=D[0],I=D[1],G=(0,s.A)(C,{keepEmpty:!0}),B=void 0===x&&"horizontal"===w?"center":x,F=n("space",z),M=o()(F,"".concat(F,"-").concat(w),(0,i.A)((0,i.A)({},"".concat(F,"-rtl"),"rtl"===m),"".concat(F,"-align-").concat(B),B),A),L="".concat(F,"-item"),$="rtl"===m?"marginLeft":"marginRight",_=0,J=G.map((function(e,t){null!==e&&void 0!==e&&(_=t);var n=e&&e.key||"".concat(L,"-").concat(t);return c.createElement(u,{className:L,key:n,direction:w,index:t,marginDirection:$,split:S,wrap:E},e)})),Q=c.useMemo((function(){return{horizontalSize:P,verticalSize:I,latestIndex:_,supportFlexGap:j}}),[P,I,_,j]);if(0===G.length)return null;var R={};return E&&(R.flexWrap="wrap",j||(R.marginBottom=-I)),j&&(R.columnGap=P,R.rowGap=I),c.createElement("div",(0,r.A)({className:M,style:(0,r.A)((0,r.A)({},R),O)},N),c.createElement(g.Provider,{value:Q},J))};f.Compact=m.Ay;const v=f}}]);
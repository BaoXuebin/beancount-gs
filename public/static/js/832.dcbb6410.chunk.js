"use strict";(self.webpackChunkbeancount_web=self.webpackChunkbeancount_web||[]).push([[832],{1772:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(9284),s=a(8828),i=a(712);const r=e=>{const t=(0,n.useRef)(null);return(0,i.jsx)(s.KE,{height:e.height||"75vh",defaultLanguage:"bean"===e.lang?"beancount":e.lang,theme:"light",onMount:(a,n)=>{t.current=a,a.onDidChangeModelContent((()=>{n.languages.register({id:"beancount"}),n.languages.setMonarchTokensProvider("beancount",{tokenizer:{root:[[/\*|\!/,"keyword"],[/\d{4}-\d{2}-\d{2}/,"number"],[/\b(Assets|Liabilities|Equity|Income|Expenses)(:[\w\-]+)+\b/,"type.identifier"],[/-?\d+(\.\d+)?\s*(USD|CNY|EUR)?/,"number"],[/;.*/,"comment"],[/^\s*(include|option|plugin)\b/,"keyword"],[/\".*\"/,"string"]]}}),n.languages.setLanguageConfiguration("beancount",{comments:{lineComment:";"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:'"',close:'"'},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"}]});const t=a.getValue();e.onContentChange&&"function"===typeof e.onContentChange&&e.onContentChange(t)}))},options:{selectOnLineNumbers:!0,automaticLayout:!0,scrollBeyondLastLine:!1,wordWrap:"on",fontFamily:"'Consolas', monospace",fontSize:14,lineHeight:20,fontWeight:"500"},...e})}},3962:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(532),s=(a(9284),a(712));const i=e=>e.hide?(0,s.jsx)(n.A,{...e,value:"***",prefix:e.hide?"":e.prefix}):(0,s.jsx)(n.A,{...e})},2832:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var n=a(983),s=a(2973),i=a(4313),r=a(6411),o=a(8994),c=a(5398),l=a(1365),h=a(5504),d=a(8405),p=a(2508),u=a(1694),g=a(4680),x=a(7691),m=a(5566),y=a(9492),T=a(8037),A=a(6749),j=a(2649),w=a(5231),D=a(4412),b=a(1896),f=a(1035),C=a(9482),v=a(8409),S=a.n(v),E=a(9284),M=a(7287),O=a(9470),L=a(1410),R=a(8415),I=a(1619),$=a(2549),k=a(4760),V=a(1419),N=a(712);class Y extends E.Component{constructor(){super(...arguments),this.cache={},this.state={calendarData:[],loading:!1,selectedMonth:this.props.month},this.getCurrentMonth=()=>{let e;return e=this.state.selectedMonth?S()(this.state.selectedMonth):S()(),e},this.queryTransactionList=(e,t)=>{Object.keys(this.cache).includes(`${e}-${t}`)?this.setState({calendarData:this.cache[`${e}-${t}`]}):(this.setState({loading:!0}),(0,k.hd)(`/api/auth/stats/month/calendar?year=${e}&month=${t}`).then((a=>{this.cache[`${e}-${t}`]=a,this.setState({calendarData:a})})).catch(console.error).finally((()=>{this.setState({loading:!1})})))},this.handleChangeMonth=e=>{this.setState({selectedMonth:e.format("yyyy-M")},(()=>{this.queryTransactionList(e.year(),e.month()+1)}))},this.getListData=e=>this.state.calendarData.filter((t=>{var a=S()(t.date);return a.year()===e.year()&&a.month()+1===e.month()+1&&a.date()===e.date()})),this.dateCellRender=e=>{const t=this.getCurrentMonth();if(t.year()!==e.year()||t.month()!==e.month())return(0,N.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{height:"100px",cursor:"default"}});const a=this.getListData(e);return(0,N.jsxs)("div",{className:"date-cell",children:[(0,N.jsx)("div",{className:"date",children:e.date()}),a.map(((e,t)=>(0,N.jsxs)("div",{children:["Expenses"===e.account&&(0,N.jsx)("span",{className:"expenses",children:(0,k.vv)(e.amount,this.props.commodity,"Expenses")}),"Income"===e.account&&(0,N.jsx)("span",{className:"income",children:(0,k.vv)(e.amount,this.props.commodity,"Income")})]},t)))]})}}componentDidMount(){const e=this.getCurrentMonth();this.queryTransactionList(e.year(),e.month()+1)}render(){return(0,N.jsx)(I.A,{title:(0,N.jsx)("div",{style:{fontSize:14},children:(0,N.jsx)("div",{children:"\u8d26\u5355\u65e5\u5386"})}),placement:"bottom",closable:!0,className:"calendar-drawer",height:"700px",bodyStyle:{display:"flex",justifyContent:"center"},...this.props,children:(0,N.jsx)(y.A,{spinning:this.state.loading,children:(0,N.jsx)($.A,{className:"calendar",fullscreen:!1,onChange:this.handleChangeMonth,dateFullCellRender:this.dateCellRender,headerRender:e=>{let{value:t,onChange:a}=e;return(0,N.jsx)("div",{style:{padding:8,textAlign:"center"},children:(0,N.jsx)(V.A,{value:this.state.selectedMonth,onlyShowMonth:!0,onChange:e=>{const n=t.clone();n.year(S()(e).year()),n.month(S()(e).month()),a(n)}})})}})})})}}const q=Y;var z=a(3962),F=a(3981);class P extends E.Component{constructor(){super(...arguments),this.state={transactions:[],stats:{},loading:!1},this.handleQueryTagTransaction=e=>{e&&(this.setState({loading:!0}),(0,k.hd)(`/api/auth/transaction?tag=${e}`).then((e=>{const t={};e.forEach((e=>{t[e.id]?t[e.id].childs.push(e):t[e.id]={date:e.date,payee:e.payee,desc:e.desc,tags:e.tags,childs:[e]}})),this.setState({transactions:Object.values(t)})})).catch(console.error).finally((()=>{this.setState({loading:!1})})))},this.handleStatsTagTransaction=e=>{e&&(this.setState({loading:!0}),(0,k.hd)(`/api/auth/stats/total?tag=${e}`).then((e=>{this.setState({stats:e})})).catch(console.error))}}componentDidMount(){this.props.tag&&(this.handleQueryTagTransaction(this.props.tag),this.handleStatsTagTransaction(this.props.tag))}componentWillReceiveProps(e){this.props.tag!==e.tag&&(this.handleQueryTagTransaction(e.tag),this.handleStatsTagTransaction(e.tag))}render(){const e=this.props.tag,{transactions:t,stats:a,loading:n}=this.state;return(0,N.jsx)(I.A,{title:(0,N.jsxs)("div",{style:{fontSize:14},children:[(0,N.jsxs)("div",{children:["\u6807\u7b7e\uff1a",e]}),(0,N.jsxs)("div",{children:["\u6700\u8fd1",t.length,"\u6761\u4ea4\u6613\u8bb0\u5f55",a.Expenses&&`\uff0c${k.aY.Expenses}${(0,M.A)("Expenses:",a.Expenses)}`,a.Income&&`\uff0c${k.aY.Income}${(0,M.A)("Income:",a.Income)}`,a.Liabilities&&`\uff0c${k.aY.Liabilities}${(0,M.A)("Liabilities:",a.Liabilities)}`]})]}),placement:"bottom",closable:!0,className:"page-drawer",height:"90vh",bodyStyle:{display:"flex",justifyContent:"center"},...this.props,children:(0,N.jsx)("div",{className:"page-form",children:(0,N.jsx)(T.Ay,{itemLayout:"horizontal",loading:n,dataSource:t,renderItem:e=>(0,N.jsx)(T.Ay.Item,{children:(0,N.jsx)(T.Ay.Item.Meta,{title:e.desc,description:(0,N.jsxs)(E.Fragment,{children:[(0,N.jsx)("div",{children:e.tags.map((e=>(0,N.jsxs)("a",{style:{marginRight:"4px"},children:["#",e]})))}),(0,N.jsxs)("span",{children:[e.date,"\xa0",e.payee]}),(0,N.jsx)(T.Ay,{itemLayout:"horizontal",dataSource:e.childs,renderItem:e=>{const t=e.costCurrency&&e.currency!==e.costCurrency,a=Boolean(e.price);let n,s;return t&&(n=(0,F.A)(e.costPrice).mul((0,F.A)(e.number).abs()),a&&(s=(0,F.A)(e.price).sub((0,F.A)(e.costPrice)).mul((0,F.A)(e.number).abs()))),(0,N.jsx)(T.Ay.Item,{style:{marginLeft:"40px"},actions:[e.number+" "+e.currency],children:(0,N.jsx)(T.Ay.Item.Meta,{avatar:(0,N.jsx)(O.A,{iconType:(0,k.fe)(e.account)}),title:e.account,description:(0,N.jsx)("div",{children:t&&(0,N.jsx)("div",{style:{marginTop:"13px"},children:a?(0,N.jsxs)(E.Fragment,{children:[(0,N.jsxs)(A.A,{children:["\u6210\u672c: ",e.costPrice," (",e.costDate,")"]}),(0,N.jsxs)(A.A,{children:["\u786e\u8ba4\u51c0\u503c: ",e.price]}),s>=0?(0,N.jsxs)(E.Fragment,{children:[(0,N.jsxs)(A.A,{icon:(0,N.jsx)(h.A,{}),color:"#f50",children:[(100*Number(s)/Number(n)).toFixed(2),"%"]}),(0,N.jsxs)(A.A,{color:"#f50",children:["+",Math.abs(s).toFixed(2)]})]}):(0,N.jsxs)(E.Fragment,{children:[(0,N.jsxs)(A.A,{icon:(0,N.jsx)(d.A,{}),color:"#1DA57A",children:[(100*Number(s)/Number(n)).toFixed(2),"%"]}),(0,N.jsxs)(A.A,{color:"#1DA57A",children:["-",Math.abs(s).toFixed(2)]})]})]}):(0,N.jsx)(E.Fragment,{children:(0,N.jsxs)(A.A,{children:["\u51c0\u503c: ",e.costPrice]})})})})})})}})]})})})})})})}}const Q=P;var G=a(2475),H=a(2069),W=a(6668),B=a(1772);const K=e=>{const t=(0,E.useRef)(null),[a,n]=(0,E.useState)(!1),[s,i]=(0,E.useState)(null);(0,E.useEffect)((()=>{e.visible&&e.transaction&&e.transaction.id!==s&&(i(e.transaction.id),n(!0),(0,k.hd)("/api/auth/transaction/raw?id="+e.transaction.id).then((e=>{t.current.setFieldsValue({rawText:e})})).catch(console.error).finally((()=>{n(!1)})))}),[e.visible]),(0,E.useEffect)((()=>{e.transaction.id&&e.transaction.id!==s&&t&&t.current&&t.current.resetFields()}),[e.transaction.id]);return(0,N.jsx)(I.A,{className:"edit-transaction-raw-text-drawer page-drawer",title:(0,N.jsx)("div",{style:{fontSize:14},children:"\u7f16\u8f91\u6e90\u6587\u4ef6"}),height:"70vh",placement:"bottom",bodyStyle:{display:"flex",justifyContent:"center"},closable:!0,...e,children:(0,N.jsxs)(W.A,{name:"sync-price-form",className:"page-form",size:"large",style:{textAlign:"left"},ref:t,onFinish:t=>{n(!0),(0,k.hd)("/api/auth/transaction/raw",{method:"POST",body:{id:e.transaction.id,rawText:t.rawText}}).then((()=>{e.onClose&&"function"===typeof e.onClose&&e.onClose(),e.onSubmit&&"function"===typeof e.onSubmit&&e.onSubmit()})).catch(console.error).finally((()=>{n(!1)}))},children:[(0,N.jsx)(y.A,{spinning:a,children:(0,N.jsx)(W.A.Item,{name:"rawText",children:(0,N.jsx)(B.A,{lang:"beancount",theme:"vs-light",height:"400px"})})}),(0,N.jsx)(W.A.Item,{children:(0,N.jsx)(b.A,{type:"primary",htmlType:"submit",loading:a,className:"submit-button",children:"\u4fdd\u5b58"})})]})})},U=x.A.TabPane,_=e=>{let{loading:t,transactionGroups:a,type:o,onOpenAccountDrawer:c,onOpenTagDrawer:l,onOpenEditTransactionDrawer:h,onOpenEditTransactionRawTextDrawer:d,OnDeleteTransaction:p}=e;return(0,N.jsx)("div",{style:{minHeight:"400px"},children:t||0!==a.length?(0,N.jsx)(y.A,{tip:"\u52a0\u8f7d\u4e2d...",style:{marginTop:"1rem"},spinning:t,children:a.map((e=>(0,N.jsx)(T.Ay,{split:!1,header:(0,N.jsxs)("div",{children:[S()(e.date).format("YYYY\u5e74M\u6708D\u53f7"),"\xa0\xa0",e.date===S()().format("YYYY-MM-DD")&&(0,N.jsx)(A.A,{color:"#1DA57A",children:"\u4eca\u5929"})]}),itemLayout:"horizontal",dataSource:e.children,renderItem:e=>(0,N.jsx)(T.Ay.Item,{actions:[e.number?(0,N.jsx)("div",{children:(0,M.A)(e.account,e.number,e.currencySymbol,e.currency)}):"",(0,N.jsx)(j.A,{trigger:["click"],menu:{items:[{label:(0,N.jsxs)("a",{onClick:()=>{h&&"function"===typeof h&&h(e)},children:[(0,N.jsx)(n.A,{}),"\xa0\u4fee\u6539"]}),key:"edit"},{label:(0,N.jsxs)("a",{onClick:()=>{d&&"function"===typeof d&&d(e)},children:[(0,N.jsx)(s.A,{}),"\xa0\u6e90\u6587\u4ef6"]}),key:"edit-raw"},{type:"divider"},{label:(0,N.jsxs)("a",{style:{color:"rgb(207, 19, 34)"},onClick:()=>{p&&"function"===typeof p&&p(e)},children:[(0,N.jsx)(i.A,{}),"\xa0\u5220\u9664"]}),key:"delete"}]},children:(0,N.jsx)(r.A,{})})],children:(0,N.jsx)(T.Ay.Item.Meta,{avatar:(0,N.jsx)(O.A,{iconType:(0,k.fe)(e.account)}),title:e.desc,description:(0,N.jsxs)("div",{children:[e.tags&&(0,N.jsx)("div",{children:e.tags.map((e=>(0,N.jsxs)("a",{style:{marginRight:"4px"},onClick:()=>l(e),children:["#",e]})))}),e.date,"\xa0",(0,N.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>{c(e.account)},children:(0,k.Pt)(e.account)}),"\xa0",e.payee]})})})},e.date)))}):(0,N.jsx)(m.A,{description:`\u65e0${k.aY[o]}\u5185\u5bb9`})})};class J extends E.Component{constructor(){super(...arguments),this.theme=this.context.theme,this.formRef=E.createRef(),this.ledgerId=window.localStorage.getItem("ledgerId"),this.currentMonth=S()().format("YYYY-M"),this.state={loading:!1,hideMoney:JSON.parse(window.localStorage.getItem("hideMoney")||"false"),Income:0,Expenses:0,Liabilities:0,listLoading:!1,type:"Expenses",transactionDateGroup:{},selectedMonth:this.currentMonth,addTransactionDrawerVisible:!1,accountTransactionDrawerVisible:!1,selectedAccount:null,tagTransactionDrawerVisible:!1,selectedTag:null,calendarDrawerVisible:!1,queryRange:"month",editTransactionDrawerVisible:!1,editTransactionDetail:{},getEditedTransactionDetailLoading:!1,editTransactionRawTextDrawerVisible:!1},this.queryMonthStats=()=>{const{selectedMonth:e,queryRange:t}=this.state;let a="",n="";"month"===t?(a=S()(e).year(),n=S()(e).month()+1):"year"===t&&(a=S()(e).year()),this.setState({loading:!0}),(0,k.hd)(`/api/auth/stats/total?year=${a}&month=${n}`).then((e=>{const{Income:t=0,Expenses:a=0,Liabilities:n=0,Assets:s=0}=e;this.setState({Income:t,Expenses:a,Liabilities:n,Assets:s})})).catch(console.error).finally((()=>{this.setState({loading:!1})}))},this.queryTransactionList=()=>{const{type:e,selectedMonth:t,queryRange:a}=this.state;let n="",s="";"month"===a?(n=S()(t).year(),s=S()(t).month()+1):"year"===a&&(n=S()(t).year()),this.setState({listLoading:!0}),(0,k.hd)(`/api/auth/transaction?type=${e}&year=${n}&month=${s}`).then((e=>{const t={};e.forEach((e=>{const a=e.date,n=t[a];n?n.children.push(e):t[a]={date:a,children:[e]}})),this.setState({transactionDateGroup:t})})).catch(console.error).finally((()=>{this.setState({listLoading:!1})}))},this.handleChangeEntryType=e=>{this.setState({type:e},(()=>{this.queryTransactionList()}))},this.handleChangeMonth=e=>{let t="month";e?4===e.length&&(t="year"):t="all",this.setState({selectedMonth:e,queryRange:t},(()=>{this.queryMonthStats(),this.queryTransactionList()}))},this.handleOpenAddTransactionDrawer=()=>{this.setState({addTransactionDrawerVisible:!0})},this.handleCloseAddTransactionDrawer=()=>{this.setState({addTransactionDrawerVisible:!1})},this.handleNavigateImportPage=()=>{this.props.history.replace("./import")},this.handleAddTransaction=()=>{this.queryMonthStats(),this.queryTransactionList(),this.handleCloseAddTransactionDrawer(),this.handleCloseEditTransactionDrawer()},this.handleHideMoney=()=>{const e=!this.state.hideMoney;this.setState({hideMoney:e}),window.localStorage.setItem("hideMoney",e)},this.handleOpenAccountTransactionDrawer=e=>{this.setState({accountTransactionDrawerVisible:!0,selectedAccount:e})},this.handleCloseAccountTransactionDrawer=()=>{this.setState({accountTransactionDrawerVisible:!1})},this.handleOpenTagTransactionDrawer=e=>{this.setState({tagTransactionDrawerVisible:!0,selectedTag:e})},this.handleCloseTagTransactionDrawer=()=>{this.setState({tagTransactionDrawerVisible:!1})},this.handleOpenCalendarDrawer=()=>{this.setState({calendarDrawerVisible:!0})},this.handleCloseCalendarDrawer=()=>{this.setState({calendarDrawerVisible:!1})},this.handleOpenEditTransactionRawTextDrawer=e=>{this.setState({editTransactionRawTextDrawerVisible:!0,editTransactionDetail:e})},this.handleCloseEditTransactionRawTextDrawer=()=>{this.setState({editTransactionRawTextDrawerVisible:!1,editTransactionDetail:{}})},this.handleOpenEditTransactionDrawer=e=>{this.setState({editTransactionDrawerVisible:!0,getEditedTransactionDetailLoading:!0}),(0,k.hd)(`/api/auth/transaction/detail?id=${e.id}`).then((e=>{this.setState({editTransactionDetail:e})})).catch(console.error).finally((()=>{this.setState({getEditedTransactionDetailLoading:!1})}))},this.handleCloseEditTransactionDrawer=()=>{this.setState({editTransactionDrawerVisible:!1,editTransactionDetail:{}})},this.handleDeleteTransaction=e=>{w.A.confirm({title:"\u786e\u8ba4\u5220\u9664?",icon:(0,N.jsx)(o.A,{}),content:"\u5220\u9664\u540e\u65e0\u6cd5\u627e\u56de",okText:"\u5220\u9664",okType:"danger",cancelText:"\u53d6\u6d88",onOk:()=>(0,k.hd)(`/api/auth/transaction?id=${e.id}`,{method:"DELETE"}).then((()=>{D.Ay.success("\u5220\u9664\u6210\u529f"),this.handleAddTransaction()})).catch(console.error).finally((()=>{}))})}}componentDidMount(){window.localStorage.getItem("ledgerId")?(this.queryMonthStats(),this.queryTransactionList()):this.props.history.replace("/ledger")}getQueryRangeText(){return"all"===this.state.queryRange?"\u5168\u90e8":"year"===this.state.queryRange?"\u5e74":"\u6708"}render(){this.context.theme!==this.theme&&(this.theme=this.context.theme);const{loading:e,listLoading:t,transactionDateGroup:a,addTransactionDrawerVisible:n,hideMoney:s,accountTransactionDrawerVisible:i,tagTransactionDrawerVisible:r,editTransactionDrawerVisible:o,editTransactionDetail:m,getEditedTransactionDetailLoading:y,editTransactionRawTextDrawerVisible:T}=this.state,j=Object.values(a);return(0,N.jsxs)("div",{className:"index-page page",children:[(0,N.jsxs)("div",{className:"top-wrapper",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(V.A,{value:this.state.selectedMonth,onChange:this.handleChangeMonth}),"\xa0\xa0",s?(0,N.jsx)(b.A,{size:"small",icon:(0,N.jsx)(c.A,{}),onClick:this.handleHideMoney}):(0,N.jsx)(b.A,{size:"small",icon:(0,N.jsx)(l.A,{}),onClick:this.handleHideMoney})]}),(0,N.jsxs)("div",{children:[this.state.Assets>0&&!s&&(0,N.jsxs)(A.A,{icon:(0,N.jsx)(h.A,{}),color:"#f50",children:[this.getQueryRangeText(),"\u8d44\u4ea7\uff1a",(0,k.vv)(this.state.Assets,this.props.commodity,"Assets",!0)]}),this.state.Assets<0&&!s&&(0,N.jsxs)(A.A,{icon:(0,N.jsx)(d.A,{}),color:"#1DA57A",children:[this.getQueryRangeText(),"\u8d44\u4ea7\uff1a",(0,k.vv)(this.state.Assets,this.props.commodity,"Assets",!0)]}),(0,N.jsx)(b.A,{size:"small",icon:(0,N.jsx)(p.A,{}),onClick:this.handleOpenCalendarDrawer,children:"\u65e5\u5386"}),"\xa0\xa0",(0,N.jsx)(b.A,{size:"small",icon:(0,N.jsx)(u.A,{}),onClick:this.handleNavigateImportPage,children:"\u5bfc\u5165"}),"\xa0\xa0",(0,N.jsx)(b.A,{type:"primary",size:"small",icon:(0,N.jsx)(g.A,{}),onClick:this.handleOpenAddTransactionDrawer,children:"\u8bb0\u8d26"})]})]}),(0,N.jsx)("div",{style:{textAlign:"center"},children:(0,N.jsxs)(f.A,{children:[(0,N.jsx)(C.A,{span:8,children:(0,N.jsx)(z.A,{hide:s,title:`${this.getQueryRangeText()}${k.aY.Income}`,value:Math.abs(this.state.Income),loading:e,prefix:this.state.Income>0?"-":"+",valueStyle:{color:"#cf1322"}})}),(0,N.jsx)(C.A,{span:8,children:(0,N.jsx)(z.A,{hide:s,title:`${this.getQueryRangeText()}${k.aY.Expenses}`,value:Math.abs(this.state.Expenses),loading:e,prefix:this.state.Expenses>=0?"-":"+",valueStyle:{color:"#3f8600"}})}),(0,N.jsx)(C.A,{span:8,children:(0,N.jsx)(z.A,{hide:s,title:`${this.getQueryRangeText()}${k.aY.Liabilities}`,value:Math.abs(this.state.Liabilities),loading:e,prefix:this.state.Liabilities>0?"-":"+",valueStyle:{color:"#3f8600"}})})]})}),(0,N.jsxs)(x.A,{centered:!0,defaultActiveKey:"Expenses",onChange:this.handleChangeEntryType,style:{marginTop:"1rem"},children:[(0,N.jsx)(U,{tab:"\u6536\u5165\u660e\u7ec6",children:(0,N.jsx)(_,{type:"Income",loading:t,transactionGroups:j,onOpenAccountDrawer:this.handleOpenAccountTransactionDrawer,onOpenTagDrawer:this.handleOpenTagTransactionDrawer,onOpenEditTransactionDrawer:this.handleOpenEditTransactionDrawer,onOpenEditTransactionRawTextDrawer:this.handleOpenEditTransactionRawTextDrawer,OnDeleteTransaction:this.handleDeleteTransaction})},"Income"),(0,N.jsx)(U,{tab:"\u652f\u51fa\u660e\u7ec6",children:(0,N.jsx)(_,{type:"Expenses",loading:t,transactionGroups:j,onOpenAccountDrawer:this.handleOpenAccountTransactionDrawer,onOpenTagDrawer:this.handleOpenTagTransactionDrawer,onOpenEditTransactionDrawer:this.handleOpenEditTransactionDrawer,onOpenEditTransactionRawTextDrawer:this.handleOpenEditTransactionRawTextDrawer,OnDeleteTransaction:this.handleDeleteTransaction})},"Expenses"),(0,N.jsx)(U,{tab:"\u8d1f\u503a\u660e\u7ec6",children:(0,N.jsx)(_,{type:"Liabilities",loading:t,transactionGroups:j,onOpenAccountDrawer:this.handleOpenAccountTransactionDrawer,onOpenTagDrawer:this.handleOpenTagTransactionDrawer,onOpenEditTransactionDrawer:this.handleOpenEditTransactionDrawer,onOpenEditTransactionRawTextDrawer:this.handleOpenEditTransactionRawTextDrawer,OnDeleteTransaction:this.handleDeleteTransaction})},"Liabilities")]}),(0,N.jsx)(R.A,{...this.props,visible:n||o,defaultTransaction:m,loading:y,onClose:()=>{this.handleCloseAddTransactionDrawer(),this.handleCloseEditTransactionDrawer()},onSubmit:this.handleAddTransaction}),(0,N.jsx)(K,{transaction:m,visible:T,onClose:this.handleCloseEditTransactionRawTextDrawer,onSubmit:this.handleAddTransaction}),this.state.selectedAccount&&(0,N.jsx)(L.A,{commodity:this.props.commodity,account:this.state.selectedAccount,visible:i,onClose:this.handleCloseAccountTransactionDrawer}),this.state.selectedTag&&(0,N.jsx)(Q,{tag:this.state.selectedTag,visible:r,onClose:this.handleCloseTagTransactionDrawer}),this.state.selectedMonth&&(0,N.jsx)(q,{commodity:this.props.commodity,month:this.state.selectedMonth,visible:this.state.calendarDrawerVisible,onClose:this.handleCloseCalendarDrawer})]})}}J.contextType=G.A;const X=(0,H.A)(J)}}]);